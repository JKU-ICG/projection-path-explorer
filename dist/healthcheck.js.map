{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/workers/worker_healthcheck.tsx","webpack:///./src/utils/backend-connect.ts"],"names":["Object","defineProperty","exports","value","backend_utils","require","backendRunning","check","fetch","BASE_URL","method","then","context","self","postMessage","catch","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","apply","calculate_hdbscan_clusters","get_representation_list","upload_sdf_file","get_substructure_count","get_mcs_from_smiles_list","get_structures_from_smiles_list","get_structure_from_smiles","get_uploaded_files","delete_file","CREDENTIALS","smiles_cache","smiles_highlight_cache","handleSmilesCache","smiles","highlight","setSmilesCache","data","async_cache","cached_data","cache","handleCache","key","setCache","handle_errors","response","ok","Error","statusText","handle_errors_json","keys","includes","alert","filename","path","credentials","json","error","console","log","formData","FormData","append","localStorage","getItem","body","controller","signal","length","name","smiles_list","filter","file","formData_file","size","promise","setItem","refresh","X","min_cluster_size","min_cluster_samples","allow_single_cluster"],"mappings":"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","file":"healthcheck.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/components/workers/worker_healthcheck.tsx\");\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst backend_utils = require(\"../../utils/backend-connect\");\r\nvar backendRunning = false;\r\nfunction check() {\r\n    fetch(backend_utils.BASE_URL + '/healthcheck', {\r\n        method: 'GET'\r\n    }).then(() => {\r\n        let context = self;\r\n        if (backendRunning == false) {\r\n            context.postMessage(true);\r\n        }\r\n        backendRunning = true;\r\n    }).catch(() => {\r\n        let context = self;\r\n        if (backendRunning == true) {\r\n            context.postMessage(false);\r\n        }\r\n        backendRunning = false;\r\n    });\r\n}\r\ncheck();\r\n","\"use strict\";\r\n// CONSTANTS\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.calculate_hdbscan_clusters = exports.get_representation_list = exports.upload_sdf_file = exports.get_substructure_count = exports.get_mcs_from_smiles_list = exports.get_structures_from_smiles_list = exports.get_structure_from_smiles = exports.get_uploaded_files = exports.delete_file = exports.BASE_URL = exports.CREDENTIALS = void 0;\r\nexports.CREDENTIALS = 'include'; // for AWS/docker\r\n// export const CREDENTIALS = 'omit'; // for netlify/local\r\n// export const BASE_URL = 'https://chemvis.caleydoapp.org'; // for netlify\r\n// export const BASE_URL = 'http://127.0.0.1:8080'; // for local\r\nexports.BASE_URL = ''; // for AWS/docker\r\nvar smiles_cache = {};\r\nvar smiles_highlight_cache = {};\r\nfunction handleSmilesCache(smiles, highlight = false) {\r\n    //already downloaded this image -> saved in smiles cache\r\n    if (highlight) {\r\n        return smiles_highlight_cache[smiles];\r\n    }\r\n    else {\r\n        return smiles_cache[smiles];\r\n    }\r\n}\r\nfunction setSmilesCache(smiles, highlight = false, data) {\r\n    if (highlight)\r\n        smiles_highlight_cache[smiles] = data;\r\n    else\r\n        smiles_cache[smiles] = data;\r\n}\r\nfunction async_cache(cached_data) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return cached_data;\r\n    });\r\n}\r\nvar cache = {};\r\nfunction handleCache(key) {\r\n    return cache[key];\r\n}\r\nfunction setCache(key, value) {\r\n    cache[key] = value;\r\n}\r\nfunction handle_errors(response) {\r\n    if (!response.ok) {\r\n        throw Error(response.statusText);\r\n    }\r\n    return response;\r\n}\r\nfunction handle_errors_json(data) {\r\n    if (Object.keys(data).includes(\"error\")) {\r\n        alert(data[\"error\"]);\r\n    }\r\n    return data;\r\n}\r\nfunction delete_file(filename) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let path = exports.BASE_URL + '/delete_file/' + filename;\r\n        return fetch(path, {\r\n            method: 'GET',\r\n            credentials: exports.CREDENTIALS\r\n        })\r\n            .then(handle_errors)\r\n            .then(response => response.json())\r\n            .then(handle_errors_json)\r\n            .catch(error => {\r\n            alert(\"file could not be deleted. please, try again\");\r\n            console.log(error);\r\n        });\r\n    });\r\n}\r\nexports.delete_file = delete_file;\r\nfunction get_uploaded_files() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let path = exports.BASE_URL + '/get_uploaded_files_list';\r\n        return fetch(path, {\r\n            method: 'GET',\r\n            credentials: exports.CREDENTIALS\r\n        })\r\n            .then(handle_errors)\r\n            .then(response => response.json())\r\n            .then(handle_errors_json)\r\n            .catch(error => {\r\n            // alert(\"could not load uploaded filenames.\")\r\n            console.log(error);\r\n        });\r\n    });\r\n}\r\nexports.get_uploaded_files = get_uploaded_files;\r\nfunction get_structure_from_smiles(smiles, highlight = false) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const cached_data = handleSmilesCache(smiles, highlight);\r\n        if (cached_data) {\r\n            return async_cache(cached_data);\r\n        }\r\n        const formData = new FormData();\r\n        formData.append('smiles', smiles);\r\n        if (localStorage.getItem(\"unique_filename\"))\r\n            formData.append('filename', localStorage.getItem(\"unique_filename\"));\r\n        let path = exports.BASE_URL + '/get_mol_img';\r\n        if (highlight) {\r\n            path += \"/highlight\";\r\n        }\r\n        return fetch(path, {\r\n            method: 'POST',\r\n            body: formData,\r\n            credentials: exports.CREDENTIALS\r\n        })\r\n            .then(handle_errors)\r\n            .then(response => response.json())\r\n            .then(handle_errors_json)\r\n            .then(data => {\r\n            setSmilesCache(smiles, highlight, data[\"data\"]);\r\n            return data[\"data\"];\r\n        })\r\n            .catch(error => {\r\n            // alert(\"could not load structure\");\r\n            console.log(error);\r\n        });\r\n    });\r\n}\r\nexports.get_structure_from_smiles = get_structure_from_smiles;\r\nfunction get_structures_from_smiles_list(formData, controller) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (localStorage.getItem(\"unique_filename\"))\r\n            formData.append('filename', localStorage.getItem(\"unique_filename\"));\r\n        return fetch(exports.BASE_URL + '/get_mol_imgs', {\r\n            method: 'POST',\r\n            body: formData,\r\n            credentials: exports.CREDENTIALS,\r\n            signal: controller === null || controller === void 0 ? void 0 : controller.signal\r\n        })\r\n            .then(handle_errors)\r\n            .then(response => response.json())\r\n            .then(handle_errors_json)\r\n            .then(data => {\r\n            if (data[\"error_smiles\"].length > 0) {\r\n                alert(\"following smiles couldn not be parsed: \" + data[\"error_smiles\"]);\r\n            }\r\n            return data;\r\n        })\r\n            .catch(error => {\r\n            if (error.name === 'AbortError') {\r\n                console.log('Fetch aborted');\r\n            }\r\n            else {\r\n                alert(\"could not load structures\");\r\n                console.log(error);\r\n            }\r\n        });\r\n    });\r\n}\r\nexports.get_structures_from_smiles_list = get_structures_from_smiles_list;\r\nfunction get_mcs_from_smiles_list(formData) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return fetch(exports.BASE_URL + '/get_common_mol_img', {\r\n            method: 'POST',\r\n            body: formData,\r\n        })\r\n            .then(handle_errors)\r\n            .then(response => response.json())\r\n            .then(handle_errors_json)\r\n            .then(response => response[\"data\"])\r\n            .catch(error => {\r\n            // alert(\"could not get maximum common substructure\")\r\n            console.log(error);\r\n        });\r\n    });\r\n}\r\nexports.get_mcs_from_smiles_list = get_mcs_from_smiles_list;\r\nfunction get_substructure_count(smiles_list, filter) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const formData = new FormData();\r\n        formData.append('smiles_list', smiles_list);\r\n        formData.append('filter_smiles', filter);\r\n        return fetch(exports.BASE_URL + '/get_substructure_count', {\r\n            method: 'POST',\r\n            body: formData,\r\n        })\r\n            .then(handle_errors)\r\n            .then(response => response.json())\r\n            .then(handle_errors_json)\r\n            .then(data => {\r\n            if (Object.keys(data).includes(\"substructure_counts\"))\r\n                return data[\"substructure_counts\"];\r\n            else\r\n                throw Error(\"Backend responded with error: \" + data[\"error\"]);\r\n        })\r\n            .catch(error => {\r\n            alert(\"could not find substructure match\");\r\n            console.log(error);\r\n        });\r\n    });\r\n}\r\nexports.get_substructure_count = get_substructure_count;\r\nfunction upload_sdf_file(file, controller) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // upload the sdf file to the server\r\n        // the response is a unique filename that can be used to make further requests\r\n        const formData_file = new FormData();\r\n        formData_file.append('myFile', file);\r\n        formData_file.append('file_size', file.size);\r\n        const promise = fetch(exports.BASE_URL + '/upload_sdf', {\r\n            method: 'POST',\r\n            body: formData_file,\r\n            credentials: exports.CREDENTIALS,\r\n            signal: controller === null || controller === void 0 ? void 0 : controller.signal\r\n        })\r\n            .then(handle_errors)\r\n            .then(response => response.json())\r\n            .then(handle_errors_json)\r\n            .then(data => {\r\n            localStorage.setItem(\"unique_filename\", data[\"unique_filename\"]);\r\n        })\r\n            .catch(error => {\r\n            if (error.name === 'AbortError') {\r\n                console.log('Fetch aborted');\r\n            }\r\n            else {\r\n                alert(\"error when uploading file. it might be too big\");\r\n                console.log(error);\r\n            }\r\n        });\r\n        return promise;\r\n    });\r\n}\r\nexports.upload_sdf_file = upload_sdf_file;\r\nfunction get_representation_list(refresh = false) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (!refresh) {\r\n            const cached_data = handleCache(\"representation_list\");\r\n            if (cached_data) {\r\n                return async_cache(cached_data);\r\n            }\r\n        }\r\n        let path = exports.BASE_URL + '/get_atom_rep_list';\r\n        if (localStorage.getItem(\"unique_filename\"))\r\n            path += \"/\" + localStorage.getItem(\"unique_filename\");\r\n        return fetch(path, {\r\n            method: 'GET',\r\n            credentials: exports.CREDENTIALS\r\n        })\r\n            .then(handle_errors)\r\n            .then(response => response.json())\r\n            .then(handle_errors_json)\r\n            .then(data => {\r\n            setCache(\"representation_list\", data);\r\n            return data;\r\n        })\r\n            .catch(error => {\r\n            // alert(\"error when loading representation list\")\r\n            console.log(error);\r\n        });\r\n    });\r\n}\r\nexports.get_representation_list = get_representation_list;\r\nfunction calculate_hdbscan_clusters(X, min_cluster_size, min_cluster_samples, allow_single_cluster) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const formData = new FormData();\r\n        formData.append('min_cluster_size', min_cluster_size);\r\n        formData.append('min_cluster_samples', min_cluster_samples);\r\n        formData.append('allow_single_cluster', allow_single_cluster);\r\n        formData.append('X', X);\r\n        return fetch(exports.BASE_URL + '/segmentation', {\r\n            method: 'POST',\r\n            body: formData\r\n        })\r\n            .then(handle_errors)\r\n            .then(response => response.json())\r\n            .then(handle_errors_json)\r\n            .catch(error => {\r\n            alert(\"error when calculating clusters\");\r\n            console.log(error);\r\n        });\r\n    });\r\n}\r\nexports.calculate_hdbscan_clusters = calculate_hdbscan_clusters;\r\n"],"sourceRoot":""}