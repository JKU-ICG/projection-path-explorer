{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/workers/worker_healthcheck.tsx","webpack:///./src/utils/backend-connect.ts"],"names":["Object","defineProperty","exports","value","backend_utils","require","backendRunning","check","fetch","BASE_URL","method","then","context","self","postMessage","catch","__awaiter","thisArg","_arguments","P","generator","adopt","resolve","Promise","reject","fulfilled","step","next","e","rejected","result","done","apply","test","calculate_hdbscan_clusters","get_representation_list","upload_sdf_file","get_mcs_from_smiles_list","get_structures_from_smiles_list","get_structure_from_smiles","CREDENTIALS","smiles_cache","smiles_highlight_cache","handleSmilesCache","smiles","highlight","setSmilesCache","data","async_cache","cached_data","formData","FormData","append","localStorage","getItem","path","body","credentials","response","text","error","console","json","log","file","formData_file","setItem","X","JSON","stringify"],"mappings":"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","file":"healthcheck.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/components/workers/worker_healthcheck.tsx\");\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst backend_utils = require(\"../../utils/backend-connect\");\r\nvar backendRunning = false;\r\nfunction check() {\r\n    fetch(backend_utils.BASE_URL + '/healthcheck', {\r\n        method: 'GET'\r\n    }).then(() => {\r\n        let context = self;\r\n        if (backendRunning == false) {\r\n            context.postMessage(true);\r\n        }\r\n        backendRunning = true;\r\n    }).catch(() => {\r\n        let context = self;\r\n        if (backendRunning == true) {\r\n            context.postMessage(false);\r\n        }\r\n        backendRunning = false;\r\n    });\r\n}\r\ncheck();\r\n","\"use strict\";\r\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n};\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.test = exports.calculate_hdbscan_clusters = exports.get_representation_list = exports.upload_sdf_file = exports.get_mcs_from_smiles_list = exports.get_structures_from_smiles_list = exports.get_structure_from_smiles = exports.BASE_URL = exports.CREDENTIALS = void 0;\r\n// CONSTANTS\r\n// export const CREDENTIALS = 'include'; // for AWS/docker\r\nexports.CREDENTIALS = 'omit'; // for netlify/local\r\n// export const BASE_URL = 'https://chemvis.caleydoapp.org'; // for netlify\r\nexports.BASE_URL = 'http://127.0.0.1:8080'; // for local\r\n// export const BASE_URL = ''; // for AWS/docker\r\nvar smiles_cache = {};\r\nvar smiles_highlight_cache = {};\r\nfunction handleSmilesCache(smiles, highlight = false) {\r\n    //already downloaded this image -> saved in smiles cache\r\n    if (highlight) {\r\n        return smiles_highlight_cache[smiles];\r\n    }\r\n    else {\r\n        return smiles_cache[smiles];\r\n    }\r\n}\r\nfunction setSmilesCache(smiles, highlight = false, data) {\r\n    if (highlight)\r\n        smiles_highlight_cache[smiles] = data;\r\n    else\r\n        smiles_cache[smiles] = data;\r\n}\r\nfunction async_cache(cached_data) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return cached_data;\r\n    });\r\n}\r\nfunction get_structure_from_smiles(smiles, highlight = false) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        const cached_data = handleSmilesCache(smiles, highlight);\r\n        if (cached_data) {\r\n            return async_cache(cached_data);\r\n        }\r\n        const formData = new FormData();\r\n        formData.append('smiles', smiles);\r\n        if (localStorage.getItem(\"unique_filename\"))\r\n            formData.append('filename', localStorage.getItem(\"unique_filename\"));\r\n        let path = exports.BASE_URL + '/get_mol_img';\r\n        if (highlight) {\r\n            path += \"/highlight\";\r\n        }\r\n        return fetch(path, {\r\n            method: 'POST',\r\n            body: formData,\r\n            credentials: exports.CREDENTIALS\r\n        })\r\n            .then(response => response.text())\r\n            .then(data => {\r\n            setSmilesCache(smiles, highlight, data);\r\n            return data;\r\n        })\r\n            .catch(error => {\r\n            console.error(error);\r\n        });\r\n    });\r\n}\r\nexports.get_structure_from_smiles = get_structure_from_smiles;\r\nfunction get_structures_from_smiles_list(formData) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        if (localStorage.getItem(\"unique_filename\"))\r\n            formData.append('filename', localStorage.getItem(\"unique_filename\"));\r\n        return fetch(exports.BASE_URL + '/get_mol_imgs', {\r\n            method: 'POST',\r\n            body: formData,\r\n            credentials: exports.CREDENTIALS\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => { console.log(data); return data; })\r\n            .catch(error => {\r\n            console.error(error);\r\n        });\r\n    });\r\n}\r\nexports.get_structures_from_smiles_list = get_structures_from_smiles_list;\r\nfunction get_mcs_from_smiles_list(formData) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return fetch(exports.BASE_URL + '/get_common_mol_img', {\r\n            method: 'POST',\r\n            body: formData,\r\n        })\r\n            .then(response => response.text())\r\n            .catch(error => {\r\n            console.error(error);\r\n        });\r\n    });\r\n}\r\nexports.get_mcs_from_smiles_list = get_mcs_from_smiles_list;\r\nfunction upload_sdf_file(file) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        // upload the sdf file to the server\r\n        // the response is a unique filename that can be used to make further requests\r\n        const formData_file = new FormData();\r\n        formData_file.append('myFile', file);\r\n        return fetch(exports.BASE_URL + '/upload_sdf', {\r\n            method: 'POST',\r\n            body: formData_file,\r\n            credentials: exports.CREDENTIALS\r\n        })\r\n            .then(response => response.json())\r\n            .then(data => {\r\n            localStorage.setItem(\"unique_filename\", data[\"unique_filename\"]);\r\n        })\r\n            .catch(error => {\r\n            console.error(error);\r\n        });\r\n    });\r\n}\r\nexports.upload_sdf_file = upload_sdf_file;\r\nfunction get_representation_list() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        let path = exports.BASE_URL + '/get_atom_rep_list';\r\n        if (localStorage.getItem(\"unique_filename\"))\r\n            path += \"/\" + localStorage.getItem(\"unique_filename\");\r\n        return fetch(path, {\r\n            method: 'GET',\r\n            credentials: exports.CREDENTIALS\r\n        })\r\n            .then(response => response.json())\r\n            .catch(error => {\r\n            console.error(error);\r\n        });\r\n    });\r\n}\r\nexports.get_representation_list = get_representation_list;\r\nfunction calculate_hdbscan_clusters(X) {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return fetch(exports.BASE_URL + '/segmentation', {\r\n            method: 'POST',\r\n            body: JSON.stringify(X)\r\n        }).then(response => response.json());\r\n    });\r\n}\r\nexports.calculate_hdbscan_clusters = calculate_hdbscan_clusters;\r\nfunction test() {\r\n    return __awaiter(this, void 0, void 0, function* () {\r\n        return fetch(exports.BASE_URL + '/test', {\r\n            method: 'GET',\r\n            credentials: exports.CREDENTIALS\r\n        }).then(response => response.text()); //.text());\r\n    });\r\n}\r\nexports.test = test;\r\n"],"sourceRoot":""}