!function(t){var n={};function a(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,n,r){a.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},a.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,n){if(1&n&&(t=a(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)a.d(r,i,function(n){return t[n]}.bind(null,i));return r},a.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return a.d(n,"a",n),n},a.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},a.p="",a(a.s=86)}({106:function(t,n,a){"use strict";t.exports=i,t.exports.default=i;var r=a(107);function i(t,n){if(!(this instanceof i))return new i(t,n);this._maxEntries=Math.max(4,t||9),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),n&&this._initFormat(n),this.clear()}function e(t,n,a){if(!a)return n.indexOf(t);for(var r=0;r<n.length;r++)if(a(t,n[r]))return r;return-1}function o(t,n){s(t,0,t.children.length,n,t)}function s(t,n,a,r,i){i||(i=p(null)),i.minX=1/0,i.minY=1/0,i.maxX=-1/0,i.maxY=-1/0;for(var e,o=n;o<a;o++)e=t.children[o],h(i,t.leaf?r(e):e);return i}function h(t,n){return t.minX=Math.min(t.minX,n.minX),t.minY=Math.min(t.minY,n.minY),t.maxX=Math.max(t.maxX,n.maxX),t.maxY=Math.max(t.maxY,n.maxY),t}function u(t,n){return t.minX-n.minX}function c(t,n){return t.minY-n.minY}function f(t){return(t.maxX-t.minX)*(t.maxY-t.minY)}function l(t){return t.maxX-t.minX+(t.maxY-t.minY)}function b(t,n){return t.minX<=n.minX&&t.minY<=n.minY&&n.maxX<=t.maxX&&n.maxY<=t.maxY}function d(t,n){return n.minX<=t.maxX&&n.minY<=t.maxY&&n.maxX>=t.minX&&n.maxY>=t.minY}function p(t){return{children:t,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function v(t,n,a,i,e){for(var o,s=[n,a];s.length;)(a=s.pop())-(n=s.pop())<=i||(o=n+Math.ceil((a-n)/i/2)*i,r(t,o,n,a,e),s.push(n,o,o,a))}i.prototype={all:function(){return this._all(this.data,[])},search:function(t){var n=this.data,a=[],r=this.toBBox;if(!d(t,n))return a;for(var i,e,o,s,h=[];n;){for(i=0,e=n.children.length;i<e;i++)o=n.children[i],d(t,s=n.leaf?r(o):o)&&(n.leaf?a.push(o):b(t,s)?this._all(o,a):h.push(o));n=h.pop()}return a},collides:function(t){var n=this.data,a=this.toBBox;if(!d(t,n))return!1;for(var r,i,e,o,s=[];n;){for(r=0,i=n.children.length;r<i;r++)if(e=n.children[r],d(t,o=n.leaf?a(e):e)){if(n.leaf||b(t,o))return!0;s.push(e)}n=s.pop()}return!1},load:function(t){if(!t||!t.length)return this;if(t.length<this._minEntries){for(var n=0,a=t.length;n<a;n++)this.insert(t[n]);return this}var r=this._build(t.slice(),0,t.length-1,0);if(this.data.children.length)if(this.data.height===r.height)this._splitRoot(this.data,r);else{if(this.data.height<r.height){var i=this.data;this.data=r,r=i}this._insert(r,this.data.height-r.height-1,!0)}else this.data=r;return this},insert:function(t){return t&&this._insert(t,this.data.height-1),this},clear:function(){return this.data=p([]),this},remove:function(t,n){if(!t)return this;for(var a,r,i,o,s=this.data,h=this.toBBox(t),u=[],c=[];s||u.length;){if(s||(s=u.pop(),r=u[u.length-1],a=c.pop(),o=!0),s.leaf&&-1!==(i=e(t,s.children,n)))return s.children.splice(i,1),u.push(s),this._condense(u),this;o||s.leaf||!b(s,h)?r?(a++,s=r.children[a],o=!1):s=null:(u.push(s),c.push(a),a=0,r=s,s=s.children[0])}return this},toBBox:function(t){return t},compareMinX:u,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(t){return this.data=t,this},_all:function(t,n){for(var a=[];t;)t.leaf?n.push.apply(n,t.children):a.push.apply(a,t.children),t=a.pop();return n},_build:function(t,n,a,r){var i,e=a-n+1,s=this._maxEntries;if(e<=s)return o(i=p(t.slice(n,a+1)),this.toBBox),i;r||(r=Math.ceil(Math.log(e)/Math.log(s)),s=Math.ceil(e/Math.pow(s,r-1))),(i=p([])).leaf=!1,i.height=r;var h,u,c,f,l=Math.ceil(e/s),b=l*Math.ceil(Math.sqrt(s));for(v(t,n,a,b,this.compareMinX),h=n;h<=a;h+=b)for(v(t,h,c=Math.min(h+b-1,a),l,this.compareMinY),u=h;u<=c;u+=l)f=Math.min(u+l-1,c),i.children.push(this._build(t,u,f,r-1));return o(i,this.toBBox),i},_chooseSubtree:function(t,n,a,r){for(var i,e,o,s,h,u,c,l,b,d;r.push(n),!n.leaf&&r.length-1!==a;){for(c=l=1/0,i=0,e=n.children.length;i<e;i++)h=f(o=n.children[i]),b=t,d=o,(u=(Math.max(d.maxX,b.maxX)-Math.min(d.minX,b.minX))*(Math.max(d.maxY,b.maxY)-Math.min(d.minY,b.minY))-h)<l?(l=u,c=h<c?h:c,s=o):u===l&&h<c&&(c=h,s=o);n=s||n.children[0]}return n},_insert:function(t,n,a){var r=this.toBBox,i=a?t:r(t),e=[],o=this._chooseSubtree(i,this.data,n,e);for(o.children.push(t),h(o,i);n>=0&&e[n].children.length>this._maxEntries;)this._split(e,n),n--;this._adjustParentBBoxes(i,e,n)},_split:function(t,n){var a=t[n],r=a.children.length,i=this._minEntries;this._chooseSplitAxis(a,i,r);var e=this._chooseSplitIndex(a,i,r),s=p(a.children.splice(e,a.children.length-e));s.height=a.height,s.leaf=a.leaf,o(a,this.toBBox),o(s,this.toBBox),n?t[n-1].children.push(s):this._splitRoot(a,s)},_splitRoot:function(t,n){this.data=p([t,n]),this.data.height=t.height+1,this.data.leaf=!1,o(this.data,this.toBBox)},_chooseSplitIndex:function(t,n,a){var r,i,e,o,h,u,c,l,b,d,p,v,m,g;for(u=c=1/0,r=n;r<=a-n;r++)i=s(t,0,r,this.toBBox),e=s(t,r,a,this.toBBox),b=i,d=e,p=void 0,v=void 0,m=void 0,g=void 0,p=Math.max(b.minX,d.minX),v=Math.max(b.minY,d.minY),m=Math.min(b.maxX,d.maxX),g=Math.min(b.maxY,d.maxY),o=Math.max(0,m-p)*Math.max(0,g-v),h=f(i)+f(e),o<u?(u=o,l=r,c=h<c?h:c):o===u&&h<c&&(c=h,l=r);return l},_chooseSplitAxis:function(t,n,a){var r=t.leaf?this.compareMinX:u,i=t.leaf?this.compareMinY:c;this._allDistMargin(t,n,a,r)<this._allDistMargin(t,n,a,i)&&t.children.sort(r)},_allDistMargin:function(t,n,a,r){t.children.sort(r);var i,e,o=this.toBBox,u=s(t,0,n,o),c=s(t,a-n,a,o),f=l(u)+l(c);for(i=n;i<a-n;i++)e=t.children[i],h(u,t.leaf?o(e):e),f+=l(u);for(i=a-n-1;i>=n;i--)e=t.children[i],h(c,t.leaf?o(e):e),f+=l(c);return f},_adjustParentBBoxes:function(t,n,a){for(var r=a;r>=0;r--)h(n[r],t)},_condense:function(t){for(var n,a=t.length-1;a>=0;a--)0===t[a].children.length?a>0?(n=t[a-1].children).splice(n.indexOf(t[a]),1):this.clear():o(t[a],this.toBBox)},_initFormat:function(t){var n=["return a"," - b",";"];this.compareMinX=new Function("a","b",n.join(t[0])),this.compareMinY=new Function("a","b",n.join(t[1])),this.toBBox=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};")}}},107:function(t,n,a){t.exports=function(){"use strict";function t(t,n,a){var r=t[n];t[n]=t[a],t[a]=r}function n(t,n){return t<n?-1:t>n?1:0}return function(a,r,i,e,o){!function n(a,r,i,e,o){for(;e>i;){if(e-i>600){var s=e-i+1,h=r-i+1,u=Math.log(s),c=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*c*(s-c)/s)*(h-s/2<0?-1:1),l=Math.max(i,Math.floor(r-h*c/s+f)),b=Math.min(e,Math.floor(r+(s-h)*c/s+f));n(a,r,l,b,o)}var d=a[r],p=i,v=e;for(t(a,i,r),o(a[e],d)>0&&t(a,i,e);p<v;){for(t(a,p,v),p++,v--;o(a[p],d)<0;)p++;for(;o(a[v],d)>0;)v--}0===o(a[i],d)?t(a,i,v):(v++,t(a,v,e)),v<=r&&(i=v+1),r<=v&&(e=v-1)}}(a,r,i||0,e||a.length-1,o||n)}}()},108:function(t,n,a){"use strict";t.exports=function(t){var n=t.length;if(n<3){for(var a=new Array(n),i=0;i<n;++i)a[i]=i;return 2===n&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]?[0]:a}var e=new Array(n);for(i=0;i<n;++i)e[i]=i;e.sort((function(n,a){var r=t[n][0]-t[a][0];return r||t[n][1]-t[a][1]}));var o=[e[0],e[1]],s=[e[0],e[1]];for(i=2;i<n;++i){for(var h=e[i],u=t[h],c=o.length;c>1&&r(t[o[c-2]],t[o[c-1]],u)<=0;)c-=1,o.pop();for(o.push(h),c=s.length;c>1&&r(t[s[c-2]],t[s[c-1]],u)>=0;)c-=1,s.pop();s.push(h)}a=new Array(s.length+o.length-2);for(var f=0,l=(i=0,o.length);i<l;++i)a[f++]=o[i];for(var b=s.length-2;b>0;--b)a[f++]=s[b];return a};var r=a(67)[3]},109:function(t,n,a){"use strict";t.exports=function(t,n){var a=0|t.length,r=0|n.length;if(1===a&&1===r)return function(t,n){var a=t+n,r=a-t,i=t-(a-r)+(n-r);if(i)return[i,a];return[a]}(t[0],n[0]);var i,e,o=new Array(a+r),s=0,h=0,u=0,c=Math.abs,f=t[h],l=c(f),b=n[u],d=c(b);l<d?(e=f,(h+=1)<a&&(f=t[h],l=c(f))):(e=b,(u+=1)<r&&(b=n[u],d=c(b)));h<a&&l<d||u>=r?(i=f,(h+=1)<a&&(f=t[h],l=c(f))):(i=b,(u+=1)<r&&(b=n[u],d=c(b)));var p,v,m=i+e,g=m-i,x=e-g,_=x,y=m;for(;h<a&&u<r;)l<d?(i=f,(h+=1)<a&&(f=t[h],l=c(f))):(i=b,(u+=1)<r&&(b=n[u],d=c(b))),(x=(e=_)-(g=(m=i+e)-i))&&(o[s++]=x),_=y-((p=y+m)-(v=p-y))+(m-v),y=p;for(;h<a;)(x=(e=_)-(g=(m=(i=f)+e)-i))&&(o[s++]=x),_=y-((p=y+m)-(v=p-y))+(m-v),y=p,(h+=1)<a&&(f=t[h]);for(;u<r;)(x=(e=_)-(g=(m=(i=b)+e)-i))&&(o[s++]=x),_=y-((p=y+m)-(v=p-y))+(m-v),y=p,(u+=1)<r&&(b=n[u]);_&&(o[s++]=_);y&&(o[s++]=y);s||(o[s++]=0);return o.length=s,o}},110:function(t,n,a){"use strict";var r=a(68),i=a(111);t.exports=function(t,n){var a=t.length;if(1===a){var e=r(t[0],n);return e[0]?e:[e[1]]}var o=new Array(2*a),s=[.1,.1],h=[.1,.1],u=0;r(t[0],n,s),s[0]&&(o[u++]=s[0]);for(var c=1;c<a;++c){r(t[c],n,h);var f=s[1];i(f,h[0],s),s[0]&&(o[u++]=s[0]);var l=h[1],b=s[1],d=l+b,p=b-(d-l);s[1]=d,p&&(o[u++]=p)}s[1]&&(o[u++]=s[1]);0===u&&(o[u++]=0);return o.length=u,o}},111:function(t,n,a){"use strict";t.exports=function(t,n,a){var r=t+n,i=r-t,e=n-i,o=t-(r-i);if(a)return a[0]=o+e,a[1]=r,a;return[o+e,r]}},112:function(t,n,a){"use strict";t.exports=function(t,n){var a=0|t.length,r=0|n.length;if(1===a&&1===r)return function(t,n){var a=t+n,r=a-t,i=t-(a-r)+(n-r);if(i)return[i,a];return[a]}(t[0],-n[0]);var i,e,o=new Array(a+r),s=0,h=0,u=0,c=Math.abs,f=t[h],l=c(f),b=-n[u],d=c(b);l<d?(e=f,(h+=1)<a&&(f=t[h],l=c(f))):(e=b,(u+=1)<r&&(b=-n[u],d=c(b)));h<a&&l<d||u>=r?(i=f,(h+=1)<a&&(f=t[h],l=c(f))):(i=b,(u+=1)<r&&(b=-n[u],d=c(b)));var p,v,m=i+e,g=m-i,x=e-g,_=x,y=m;for(;h<a&&u<r;)l<d?(i=f,(h+=1)<a&&(f=t[h],l=c(f))):(i=b,(u+=1)<r&&(b=-n[u],d=c(b))),(x=(e=_)-(g=(m=i+e)-i))&&(o[s++]=x),_=y-((p=y+m)-(v=p-y))+(m-v),y=p;for(;h<a;)(x=(e=_)-(g=(m=(i=f)+e)-i))&&(o[s++]=x),_=y-((p=y+m)-(v=p-y))+(m-v),y=p,(h+=1)<a&&(f=t[h]);for(;u<r;)(x=(e=_)-(g=(m=(i=b)+e)-i))&&(o[s++]=x),_=y-((p=y+m)-(v=p-y))+(m-v),y=p,(u+=1)<r&&(b=-n[u]);_&&(o[s++]=_);y&&(o[s++]=y);s||(o[s++]=0);return o.length=s,o}},113:function(t,n,a){"use strict";function r(t,n){if(!(this instanceof r))return new r(t,n);if(this.data=t||[],this.length=this.data.length,this.compare=n||i,this.length>0)for(var a=(this.length>>1)-1;a>=0;a--)this._down(a)}function i(t,n){return t<n?-1:t>n?1:0}t.exports=r,t.exports.default=r,r.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var n=this.data,a=this.compare,r=n[t];t>0;){var i=t-1>>1,e=n[i];if(a(r,e)>=0)break;n[t]=e,t=i}n[t]=r},_down:function(t){for(var n=this.data,a=this.compare,r=this.length>>1,i=n[t];t<r;){var e=1+(t<<1),o=e+1,s=n[e];if(o<this.length&&a(n[o],s)<0&&(e=o,s=n[o]),a(s,i)>=0)break;n[t]=s,t=e}n[t]=i}}},114:function(t,n){t.exports=function(t,n){for(var a=t[0],r=t[1],i=!1,e=0,o=n.length-1;e<n.length;o=e++){var s=n[e][0],h=n[e][1],u=n[o][0],c=n[o][1];h>r!=c>r&&a<(u-s)*(r-h)/(c-h)+s&&(i=!i)}return i}},19:function(t,n,a){"use strict";var r;function i(t,n){return t.b===n.b&&t.a===n.a}function e(t,n){return t.b<n.b||t.b===n.b&&t.a<=n.a}function o(t,n,a){var r=n.b-t.b,i=a.b-n.b;return 0<r+i?r<i?n.a-t.a+r/(r+i)*(t.a-a.a):n.a-a.a+i/(r+i)*(a.a-t.a):0}function s(t,n,a){var r=n.b-t.b,i=a.b-n.b;return 0<r+i?(n.a-a.a)*r+(n.a-t.a)*i:0}function h(t,n){return t.a<n.a||t.a===n.a&&t.b<=n.b}function u(t,n,a){var r=n.a-t.a,i=a.a-n.a;return 0<r+i?r<i?n.b-t.b+r/(r+i)*(t.b-a.b):n.b-a.b+i/(r+i)*(a.b-t.b):0}function c(t,n,a){var r=n.a-t.a,i=a.a-n.a;return 0<r+i?(n.b-a.b)*r+(n.b-t.b)*i:0}function f(t){return e(t.b.a,t.a)}function l(t){return e(t.a,t.b.a)}function b(t,n,a,r){return(t=0>t?0:t)<=(a=0>a?0:a)?0===a?(n+r)/2:n+t/(t+a)*(r-n):r+a/(t+a)*(n-r)}function d(t){var n=x(t.b);return y(n,t.c),y(n.b,t.c),S(n,t.a),n}function p(t,n){var a=!1,r=!1;t!==n&&(n.a!==t.a&&(r=!0,M(n.a,t.a)),n.d!==t.d&&(a=!0,T(n.d,t.d)),_(n,t),r||(y(n,t.a),t.a.c=t),a||(S(n,t.d),t.d.a=t))}function v(t){var n=t.b,a=!1;t.d!==t.b.d&&(a=!0,T(t.d,t.b.d)),t.c===t?M(t.a,null):(t.b.d.a=nt(t),t.a.c=t.c,_(t,nt(t)),a||S(t,t.d)),n.c===n?(M(n.a,null),T(n.d,null)):(t.d.a=nt(n),n.a.c=n.c,_(n,nt(n))),E(t)}function m(t){var n=x(t),a=n.b;return _(n,t.e),n.a=t.b.a,y(a,n.a),n.d=a.d=t.d,n=n.b,_(t.b,nt(t.b)),_(t.b,n),t.b.a=n.a,n.b.a.c=n.b,n.b.d=t.b.d,n.f=t.f,n.b.f=t.b.f,n}function g(t,n){var a=!1,r=x(t),i=r.b;return n.d!==t.d&&(a=!0,T(n.d,t.d)),_(r,t.e),_(i,n),r.a=t.b.a,i.a=n.a,r.d=i.d=t.d,t.d.a=i,a||S(r,t.d),r}function x(t){var n=new tt,a=new tt,r=t.b.h;return a.h=r,r.b.h=n,n.h=t,t.b.h=a,n.b=a,n.c=n,n.e=a,a.b=n,a.c=a,a.e=n}function _(t,n){var a=t.c,r=n.c;a.b.e=n,r.b.e=t,t.c=r,n.c=a}function y(t,n){var a=n.f,r=new rt(n,a);a.e=r,n.f=r,a=r.c=t;do{a.a=r,a=a.c}while(a!==t)}function S(t,n){var a=n.d,r=new $(n,a);a.b=r,n.d=r,r.a=t,r.c=n.c,a=t;do{a.d=r,a=a.e}while(a!==t)}function E(t){var n=t.h;t=t.b.h,n.b.h=t,t.b.h=n}function M(t,n){var a=t.c,r=a;do{r.a=n,r=r.c}while(r!==a);a=t.f,(r=t.e).f=a,a.e=r}function T(t,n){var a=t.a,r=a;do{r.d=n,r=r.e}while(r!==a);a=t.d,(r=t.b).d=a,a.b=r}function w(t){var n=0;return Math.abs(t[1])>Math.abs(t[0])&&(n=1),Math.abs(t[2])>Math.abs(t[n])&&(n=2),n}var G=4e150;function Y(t,n){t.f+=n.f,t.b.f+=n.b.f}function X(t,n,a){return t=t.a,n=n.a,a=a.a,n.b.a===t?a.b.a===t?e(n.a,a.a)?0>=s(a.b.a,n.a,a.a):0<=s(n.b.a,a.a,n.a):0>=s(a.b.a,t,a.a):a.b.a===t?0<=s(n.b.a,t,n.a):(n=o(n.b.a,t,n.a))>=(t=o(a.b.a,t,a.a))}function L(t){t.a.i=null;var n=t.e;n.a.c=n.c,n.c.a=n.a,t.e=null}function N(t,n){v(t.a),t.c=!1,t.a=n,n.i=t}function A(t){var n=t.a.a;do{t=pt(t)}while(t.a.a===n);return t.c&&(N(t,n=g(dt(t).a.b,t.a.e)),t=pt(t)),t}function B(t,n,a){var r=new bt;return r.a=a,r.e=J(t.f,n.e,r),a.i=r}function O(t,n){switch(t.s){case 100130:return 0!=(1&n);case 100131:return 0!==n;case 100132:return 0<n;case 100133:return 0>n;case 100134:return 2<=n||-2>=n}return!1}function I(t){var n=t.a,a=n.d;a.c=t.d,a.a=n,L(t)}function k(t,n,a){for(t=n,n=n.a;t!==a;){t.c=!1;var r=dt(t),i=r.a;if(i.a!==n.a){if(!r.c){I(t);break}N(r,i=g(n.c.b,i.b))}n.c!==i&&(p(nt(i),i),p(n,i)),I(t),n=r.a,t=r}return n}function U(t,n,a,r,i,e){var o=!0;do{B(t,n,a.b),a=a.c}while(a!==r);for(null===i&&(i=dt(n).a.b.c);(a=(r=dt(n)).a.b).a===i.a;)a.c!==i&&(p(nt(a),a),p(nt(i),a)),r.f=n.f-a.f,r.d=O(t,r.f),n.b=!0,!o&&C(t,n)&&(Y(a,i),L(n),v(i)),o=!1,n=r,i=a;n.b=!0,e&&F(t,n)}function j(t,n,a,r,i){var e=[n.g[0],n.g[1],n.g[2]];n.d=null,n.d=t.o&&t.o(e,a,r,t.c)||null,null===n.d&&(i?t.n||(Z(t,100156),t.n=!0):n.d=a[0])}function D(t,n,a){var r=[null,null,null,null];r[0]=n.a.d,r[1]=a.a.d,j(t,n.a,r,[.5,.5,0,0],!1),p(n,a)}function R(t,n,a,r,i){var e=Math.abs(n.b-t.b)+Math.abs(n.a-t.a),o=Math.abs(a.b-t.b)+Math.abs(a.a-t.a),s=i+1;r[i]=.5*o/(e+o),r[s]=.5*e/(e+o),t.g[0]+=r[i]*n.g[0]+r[s]*a.g[0],t.g[1]+=r[i]*n.g[1]+r[s]*a.g[1],t.g[2]+=r[i]*n.g[2]+r[s]*a.g[2]}function C(t,n){var a=dt(n),r=n.a,o=a.a;if(e(r.a,o.a)){if(0<s(o.b.a,r.a,o.a))return!1;if(i(r.a,o.a)){if(r.a!==o.a){a=t.e;var h=r.a.h;if(0<=h){var u=(a=a.b).d,c=a.e,f=a.c,l=f[h];u[l]=u[a.a],f[u[l]]=l,l<=--a.a&&(1>=l?ft(a,l):e(c[u[l>>1]],c[u[l]])?ft(a,l):lt(a,l)),c[h]=null,f[h]=a.b,a.b=h}else for(a.c[-(h+1)]=null;0<a.a&&null===a.c[a.d[a.a-1]];)--a.a;D(t,nt(o),r)}}else m(o.b),p(r,nt(o)),n.b=a.b=!0}else{if(0>s(r.b.a,o.a,r.a))return!1;pt(n).b=n.b=!0,m(r.b),p(nt(o),r)}return!0}function P(t,n){var a=dt(n),r=n.a,f=a.a,l=r.a,d=f.a,v=r.b.a,g=f.b.a,x=new rt;if(s(v,t.a,l),s(g,t.a,d),l===d||Math.min(l.a,v.a)>Math.max(d.a,g.a))return!1;if(e(l,d)){if(0<s(g,l,d))return!1}else if(0>s(v,d,l))return!1;var _,y,S=v,E=l,M=g,T=d;if(e(S,E)||(_=S,S=E,E=_),e(M,T)||(_=M,M=T,T=_),e(S,M)||(_=S,S=M,M=_,_=E,E=T,T=_),e(M,E)?e(E,T)?(0>(_=o(S,M,E))+(y=o(M,E,T))&&(_=-_,y=-y),x.b=b(_,M.b,y,E.b)):(0>(_=s(S,M,E))+(y=-s(S,T,E))&&(_=-_,y=-y),x.b=b(_,M.b,y,T.b)):x.b=(M.b+E.b)/2,h(S,E)||(_=S,S=E,E=_),h(M,T)||(_=M,M=T,T=_),h(S,M)||(_=S,S=M,M=_,_=E,E=T,T=_),h(M,E)?h(E,T)?(0>(_=u(S,M,E))+(y=u(M,E,T))&&(_=-_,y=-y),x.a=b(_,M.a,y,E.a)):(0>(_=c(S,M,E))+(y=-c(S,T,E))&&(_=-_,y=-y),x.a=b(_,M.a,y,T.a)):x.a=(M.a+E.a)/2,e(x,t.a)&&(x.b=t.a.b,x.a=t.a.a),S=e(l,d)?l:d,e(S,x)&&(x.b=S.b,x.a=S.a),i(x,l)||i(x,d))return C(t,n),!1;if(!i(v,t.a)&&0<=s(v,t.a,x)||!i(g,t.a)&&0>=s(g,t.a,x)){if(g===t.a)return m(r.b),p(f.b,r),r=dt(n=A(n)).a,k(t,dt(n),a),U(t,n,nt(r),r,r,!0),!0;if(v===t.a){m(f.b),p(r.e,nt(f)),d=(l=a=n).a.b.a;do{l=pt(l)}while(l.a.b.a===d);return l=dt(n=l).a.b.c,a.a=nt(f),U(t,n,(f=k(t,a,null)).c,r.b.c,l,!0),!0}return 0<=s(v,t.a,x)&&(pt(n).b=n.b=!0,m(r.b),r.a.b=t.a.b,r.a.a=t.a.a),0>=s(g,t.a,x)&&(n.b=a.b=!0,m(f.b),f.a.b=t.a.b,f.a.a=t.a.a),!1}return m(r.b),m(f.b),p(nt(f),r),r.a.b=x.b,r.a.a=x.a,r.a.h=et(t.e,r.a),r=r.a,f=[0,0,0,0],x=[l.d,v.d,d.d,g.d],r.g[0]=r.g[1]=r.g[2]=0,R(r,l,v,f,0),R(r,d,g,f,2),j(t,r,x,f,!0),pt(n).b=n.b=a.b=!0,!1}function F(t,n){for(var a=dt(n);;){for(;a.b;)n=a,a=dt(a);if(!n.b&&(a=n,null===(n=pt(n))||!n.b))break;n.b=!1;var r,i=n.a,o=a.a;if(r=i.b.a!==o.b.a)t:{var h=dt(r=n),u=r.a,c=h.a,f=void 0;if(e(u.b.a,c.b.a)){if(0>s(u.b.a,c.b.a,u.a)){r=!1;break t}pt(r).b=r.b=!0,f=m(u),p(c.b,f),f.d.c=r.d}else{if(0<s(c.b.a,u.b.a,c.a)){r=!1;break t}r.b=h.b=!0,f=m(c),p(u.e,c.b),f.b.d.c=r.d}r=!0}if(r&&(a.c?(L(a),v(o),o=(a=dt(n)).a):n.c&&(L(n),v(i),i=(n=pt(a)).a)),i.a!==o.a)if(i.b.a===o.b.a||n.c||a.c||i.b.a!==t.a&&o.b.a!==t.a)C(t,n);else if(P(t,n))break;i.a===o.a&&i.b.a===o.b.a&&(Y(o,i),L(n),v(i),n=pt(a))}}function V(t,n){t.a=n;for(var a=n.c;null===a.i;)if((a=a.c)===n.c){a=t;var r=n;(u=new bt).a=r.c.b;var o=(f=a.f).a;do{o=o.a}while(null!==o.b&&!f.c(f.b,u,o.b));var h=dt(f=o.b),u=f.a;o=h.a;if(0===s(u.b.a,r,u.a))i((u=f.a).a,r)||i(u.b.a,r)||(m(u.b),f.c&&(v(u.c),f.c=!1),p(r.c,u),V(a,r));else{var c=e(o.b.a,u.b.a)?f:h;h=void 0;f.d||c.c?(h=c===f?g(r.c.b,u.e):g(o.b.c.b,r.c).b,c.c?N(c,h):(u=a,(f=B(a,f,h)).f=pt(f).f+f.a.f,f.d=O(u,f.f)),V(a,r)):U(a,f,r.c,r.c,null,!0)}return}if(f=(u=dt(a=A(a.i))).a,(u=k(t,u,null)).c===f){u=(f=u).c,o=dt(a),h=a.a,c=o.a;var f,l=!1;h.b.a!==c.b.a&&P(t,a),i(h.a,t.a)&&(p(nt(u),h),u=dt(a=A(a)).a,k(t,dt(a),o),l=!0),i(c.a,t.a)&&(p(f,nt(c)),f=k(t,o,null),l=!0),l?U(t,a,f.c,u,u,!0):(r=e(c.a,h.a)?nt(c):h,U(t,a,r=g(f.c.b,r),r.c,r.c,!1),r.b.i.c=!0,F(t,a))}else U(t,a,u.c,f,f,!0)}function q(t,n){var a=new bt,r=d(t.b);r.a.b=G,r.a.a=n,r.b.a.b=-G,r.b.a.a=n,t.a=r.b.a,a.a=r,a.f=0,a.d=!1,a.c=!1,a.h=!0,a.b=!1,r=J(r=t.f,r.a,a),a.e=r}function W(t){this.a=new z,this.b=t,this.c=X}function J(t,n,a){do{n=n.c}while(null!==n.b&&!t.c(t.b,n.b,a));return t=new z(a,n.a,n),n.a.c=t,n.a=t}function z(t,n,a){this.b=t||null,this.a=n||this,this.c=a||this}function H(){this.d=K,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}var K=0;function Q(t,n){if(t.d!==n)for(;t.d!==n;)if(t.d<n)switch(t.d){case K:Z(t,100151),t.u(null);break;case 1:Z(t,100152),t.t()}else switch(t.d){case 2:Z(t,100154),t.v();break;case 1:Z(t,100153),t.w()}}function Z(t,n){t.p&&t.p(n,t.c)}function $(t,n){this.b=t||this,this.d=n||this,this.a=null,this.c=!1}function tt(){this.h=this,this.i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function nt(t){return t.b.e}function at(){this.c=new rt,this.a=new $,this.b=new tt,this.d=new tt,this.b.b=this.d,this.d.b=this.b}function rt(t,n){this.e=t||this,this.f=n||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function it(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new st}function et(t,n){if(t.e){var a,r=t.b,i=++r.a;return 2*i>r.f&&(r.f*=2,r.c=ht(r.c,r.f+1)),0===r.b?a=i:(a=r.b,r.b=r.c[r.b]),r.e[a]=n,r.c[a]=i,r.d[i]=a,r.h&&lt(r,i),a}return r=t.a++,t.c[r]=n,-(r+1)}function ot(t){if(0===t.a)return ct(t.b);var n=t.c[t.d[t.a-1]];if(0!==t.b.a&&e(ut(t.b),n))return ct(t.b);do{--t.a}while(0<t.a&&null===t.c[t.d[t.a-1]]);return n}function st(){this.d=ht([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function ht(t,n){for(var a=Array(n),r=0;r<t.length;r++)a[r]=t[r];for(;r<n;r++)a[r]=0;return a}function ut(t){return t.e[t.d[1]]}function ct(t){var n=t.d,a=t.e,r=t.c,i=n[1],e=a[i];return 0<t.a&&(n[1]=n[t.a],r[n[1]]=1,a[i]=null,r[i]=t.b,t.b=i,0<--t.a&&ft(t,1)),e}function ft(t,n){for(var a=t.d,r=t.e,i=t.c,o=n,s=a[o];;){var h=o<<1;h<t.a&&e(r[a[h+1]],r[a[h]])&&(h+=1);var u=a[h];if(h>t.a||e(r[s],r[u])){a[o]=s,i[s]=o;break}a[o]=u,i[u]=o,o=h}}function lt(t,n){for(var a=t.d,r=t.e,i=t.c,o=n,s=a[o];;){var h=o>>1,u=a[h];if(0===h||e(r[u],r[s])){a[o]=s,i[s]=o;break}a[o]=u,i[u]=o,o=h}}function bt(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function dt(t){return t.e.c.b}function pt(t){return t.e.a.b}(r=H.prototype).x=function(){Q(this,K)},r.B=function(t,n){switch(t){case 100142:return;case 100140:switch(n){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=n)}break;case 100141:return void(this.m=!!n);default:return void Z(this,100900)}Z(this,100901)},r.y=function(t){switch(t){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:Z(this,100900)}return!1},r.A=function(t,n,a){this.j[0]=t,this.j[1]=n,this.j[2]=a},r.z=function(t,n){var a=n||null;switch(t){case 100100:case 100106:this.h=a;break;case 100104:case 100110:this.l=a;break;case 100101:case 100107:this.k=a;break;case 100102:case 100108:this.i=a;break;case 100103:case 100109:this.p=a;break;case 100105:case 100111:this.o=a;break;case 100112:this.r=a;break;default:Z(this,100900)}},r.C=function(t,n){var a=!1,r=[0,0,0];Q(this,2);for(var i=0;3>i;++i){var e=t[i];-1e150>e&&(e=-1e150,a=!0),1e150<e&&(e=1e150,a=!0),r[i]=e}a&&Z(this,100155),null===(a=this.q)?p(a=d(this.b),a.b):(m(a),a=a.e),a.a.d=n,a.a.g[0]=r[0],a.a.g[1]=r[1],a.a.g[2]=r[2],a.f=1,a.b.f=-1,this.q=a},r.u=function(t){Q(this,K),this.d=1,this.b=new at,this.c=t},r.t=function(){Q(this,1),this.d=2,this.q=null},r.v=function(){Q(this,2),this.d=1},r.w=function(){Q(this,1),this.d=K;var t=!1,n=[u=this.j[0],a=this.j[1],o=this.j[2]];if(0===u&&0===a&&0===o){for(var a=[-2e150,-2e150,-2e150],r=[2e150,2e150,2e150],o=[],h=[],u=(t=this.b.c).e;u!==t;u=u.e)for(var c=0;3>c;++c){var b=u.g[c];b<r[c]&&(r[c]=b,h[c]=u),b>a[c]&&(a[c]=b,o[c]=u)}if(u=0,a[1]-r[1]>a[0]-r[0]&&(u=1),a[2]-r[2]>a[u]-r[u]&&(u=2),r[u]>=a[u])n[0]=0,n[1]=0,n[2]=1;else{for(a=0,r=h[u],o=o[u],h=[0,0,0],r=[r.g[0]-o.g[0],r.g[1]-o.g[1],r.g[2]-o.g[2]],c=[0,0,0],u=t.e;u!==t;u=u.e)c[0]=u.g[0]-o.g[0],c[1]=u.g[1]-o.g[1],c[2]=u.g[2]-o.g[2],h[0]=r[1]*c[2]-r[2]*c[1],h[1]=r[2]*c[0]-r[0]*c[2],h[2]=r[0]*c[1]-r[1]*c[0],(b=h[0]*h[0]+h[1]*h[1]+h[2]*h[2])>a&&(a=b,n[0]=h[0],n[1]=h[1],n[2]=h[2]);0>=a&&(n[0]=n[1]=n[2]=0,n[w(r)]=1)}t=!0}for(h=w(n),u=this.b.c,a=(h+1)%3,o=(h+2)%3,h=0<n[h]?1:-1,n=u.e;n!==u;n=n.e)n.b=n.g[a],n.a=h*n.g[o];if(t){for(n=0,u=(t=this.b.a).b;u!==t;u=u.b)if(!(0>=(a=u.a).f))do{n+=(a.a.b-a.b.a.b)*(a.a.a+a.b.a.a),a=a.e}while(a!==u.a);if(0>n)for(t=(n=this.b.c).e;t!==n;t=t.e)t.a=-t.a}for(this.n=!1,u=(n=this.b.b).h;u!==n;u=t)t=u.h,a=u.e,i(u.a,u.b.a)&&u.e.e!==u&&(D(this,a,u),v(u),a=(u=a).e),a.e===u&&(a!==u&&(a!==t&&a!==t.b||(t=t.h),v(a)),u!==t&&u!==t.b||(t=t.h),v(u));for(this.e=n=new it,u=(t=this.b.c).e;u!==t;u=u.e)u.h=et(n,u);for(function(t){t.d=[];for(var n=0;n<t.a;n++)t.d[n]=n;t.d.sort(function(t){return function(n,a){return e(t[n],t[a])?1:-1}}(t.c)),t.e=!0,function(t){for(var n=t.a;1<=n;--n)ft(t,n);t.h=!0}(t.b)}(n),this.f=new W(this),q(this,-G),q(this,G);null!==(n=ot(this.e));){for(;;){t:if(u=this.e,0===u.a)t=ut(u.b);else if(t=u.c[u.d[u.a-1]],0!==u.b.a&&(u=ut(u.b),e(u,t))){t=u;break t}if(null===t||!i(t,n))break;t=ot(this.e),D(this,n.c,t.c)}V(this,n)}for(this.a=this.f.a.a.b.a.a,n=0;null!==(t=this.f.a.a.b);)t.h||++n,L(t);for(this.f=null,(n=this.e).b=null,n.d=null,this.e=n.c=null,u=(n=this.b).a.b;u!==n.a;u=t)t=u.b,(u=u.a).e.e===u&&(Y(u.c,u),v(u));if(!this.n){if(n=this.b,this.m)for(u=n.b.h;u!==n.b;u=t)t=u.h,u.b.d.c!==u.d.c?u.f=u.d.c?1:-1:v(u);else for(u=n.a.b;u!==n.a;u=t)if(t=u.b,u.c){for(u=u.a;e(u.b.a,u.a);u=u.c.b);for(;e(u.a,u.b.a);u=u.e);for(a=u.c.b,o=void 0;u.e!==a;)if(e(u.b.a,a.a)){for(;a.e!==u&&(f(a.e)||0>=s(a.a,a.b.a,a.e.b.a));)a=(o=g(a.e,a)).b;a=a.c.b}else{for(;a.e!==u&&(l(u.c.b)||0<=s(u.b.a,u.a,u.c.b.a));)u=(o=g(u,u.c.b)).b;u=u.e}for(;a.e.e!==u;)a=(o=g(a.e,a)).b}if(this.h||this.i||this.k||this.l)if(this.m){for(t=(n=this.b).a.b;t!==n.a;t=t.b)if(t.c){this.h&&this.h(2,this.c),u=t.a;do{this.k&&this.k(u.a.d,this.c),u=u.e}while(u!==t.a);this.i&&this.i(this.c)}}else{for(n=this.b,t=!!this.l,u=!1,a=-1,o=n.a.d;o!==n.a;o=o.d)if(o.c){u||(this.h&&this.h(4,this.c),u=!0),h=o.a;do{t&&(a!==(r=h.b.d.c?0:1)&&(a=r,this.l&&this.l(!!a,this.c))),this.k&&this.k(h.a.d,this.c),h=h.e}while(h!==o.a)}u&&this.i&&this.i(this.c)}if(this.r){for(u=(n=this.b).a.b;u!==n.a;u=t)if(t=u.b,!u.c){o=(a=u.a).e,h=void 0;do{o=(h=o).e,h.d=null,null===h.b.d&&(h.c===h?M(h.a,null):(h.a.c=h.c,_(h,nt(h))),(r=h.b).c===r?M(r.a,null):(r.a.c=r.c,_(r,nt(r))),E(h))}while(h!==a);a=u.d,(u=u.b).d=a,a.b=u}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:H,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},H.prototype.gluDeleteTess=H.prototype.x,H.prototype.gluTessProperty=H.prototype.B,H.prototype.gluGetTessProperty=H.prototype.y,H.prototype.gluTessNormal=H.prototype.A,H.prototype.gluTessCallback=H.prototype.z,H.prototype.gluTessVertex=H.prototype.C,H.prototype.gluTessBeginPolygon=H.prototype.u,H.prototype.gluTessBeginContour=H.prototype.t,H.prototype.gluTessEndContour=H.prototype.v,H.prototype.gluTessEndPolygon=H.prototype.w,t.exports=this.libtess},54:function(t,n,a){"use strict";function r(t,n){if(n.length<=1)return!1;for(var a=0,r=1;r<n.length;r++){var i=n[r-1],e=n[r],o={Start:{x:t.x,y:t.y},End:{x:99999,y:0}},s={Start:i,End:e},h={x:o.End.x-o.Start.x,y:o.End.y-o.Start.y},u={x:s.End.x-s.Start.x,y:s.End.y-s.Start.y},c=Math.sqrt(Math.pow(h.x,2)+Math.pow(h.y,2)),f=Math.sqrt(Math.pow(u.x,2)+Math.pow(u.y,2));if(h.X/c!=u.X/f||h.Y/c!=u.Y/f){var l=(h.x*(s.Start.y-o.Start.y)+h.y*(o.Start.x-s.Start.x))/(u.x*h.y-u.y*h.x),b=(s.Start.x+u.x*l-o.Start.x)/h.x;b<0||l<0||l>1||isNaN(b)||a++}}return 0!=a&&!!(1&a)}a.d(n,"a",(function(){return r}))},67:function(t,n,a){"use strict";var r=a(68),i=a(109),e=a(110),o=a(112),s=5;function h(t,n){for(var a=new Array(t.length-1),r=1;r<t.length;++r)for(var i=a[r-1]=new Array(t.length-1),e=0,o=0;e<t.length;++e)e!==n&&(i[o++]=t[r][e]);return a}function u(t){if(1===t.length)return t[0];if(2===t.length)return["sum(",t[0],",",t[1],")"].join("");var n=t.length>>1;return["sum(",u(t.slice(0,n)),",",u(t.slice(n)),")"].join("")}function c(t){if(2===t.length)return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")];for(var n=[],a=0;a<t.length;++a)n.push(["scale(",u(c(h(t,a))),",",(r=a,1&r?"-":""),t[0][a],")"].join(""));return n;var r}function f(t){for(var n=[],a=[],s=function(t){for(var n=new Array(t),a=0;a<t;++a){n[a]=new Array(t);for(var r=0;r<t;++r)n[a][r]=["m",r,"[",t-a-1,"]"].join("")}return n}(t),f=[],l=0;l<t;++l)0==(1&l)?n.push.apply(n,c(h(s,l))):a.push.apply(a,c(h(s,l))),f.push("m"+l);var b=u(n),d=u(a),p="orientation"+t+"Exact",v=["function ",p,"(",f.join(),"){var p=",b,",n=",d,",d=sub(p,n);return d[d.length-1];};return ",p].join("");return new Function("sum","prod","scale","sub",v)(i,r,e,o)}var l=f(3),b=f(4),d=[function(){return 0},function(){return 0},function(t,n){return n[0]-t[0]},function(t,n,a){var r,i=(t[1]-a[1])*(n[0]-a[0]),e=(t[0]-a[0])*(n[1]-a[1]),o=i-e;if(i>0){if(e<=0)return o;r=i+e}else{if(!(i<0))return o;if(e>=0)return o;r=-(i+e)}var s=33306690738754716e-32*r;return o>=s||o<=-s?o:l(t,n,a)},function(t,n,a,r){var i=t[0]-r[0],e=n[0]-r[0],o=a[0]-r[0],s=t[1]-r[1],h=n[1]-r[1],u=a[1]-r[1],c=t[2]-r[2],f=n[2]-r[2],l=a[2]-r[2],d=e*u,p=o*h,v=o*s,m=i*u,g=i*h,x=e*s,_=c*(d-p)+f*(v-m)+l*(g-x),y=7771561172376103e-31*((Math.abs(d)+Math.abs(p))*Math.abs(c)+(Math.abs(v)+Math.abs(m))*Math.abs(f)+(Math.abs(g)+Math.abs(x))*Math.abs(l));return _>y||-_>y?_:b(t,n,a,r)}];function p(t){var n=d[t.length];return n||(n=d[t.length]=f(t.length)),n.apply(void 0,t)}!function(){for(;d.length<=s;)d.push(f(d.length));for(var n=[],a=["slow"],r=0;r<=s;++r)n.push("a"+r),a.push("o"+r);var i=["function getOrientation(",n.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(r=2;r<=s;++r)i.push("case ",r,":return o",r,"(",n.slice(0,r).join(),");");i.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation"),a.push(i.join(""));var e=Function.apply(void 0,a);for(t.exports=e.apply(void 0,[p].concat(d)),r=0;r<=s;++r)t.exports[r]=d[r]}()},68:function(t,n,a){"use strict";t.exports=function(t,n,a){var i=t*n,e=r*t,o=e-(e-t),s=t-o,h=r*n,u=h-(h-n),c=n-u,f=s*c-(i-o*u-s*u-o*c);if(a)return a[0]=f,a[1]=i,a;return[f,i]};var r=+(Math.pow(2,27)+1)},71:function(t,n,a){"use strict";var r=a(106),i=a(108),e=a(113),o=a(114),s=a(67)[3];function h(t,n,a){n=Math.max(0,void 0===n?2:n),a=a||0;for(var e,s=function(t){for(var n=t[0],a=t[0],r=t[0],e=t[0],s=0;s<t.length;s++){var h=t[s];h[0]<n[0]&&(n=h),h[0]>r[0]&&(r=h),h[1]<a[1]&&(a=h),h[1]>e[1]&&(e=h)}var u=[n,a,r,e],c=u.slice();for(s=0;s<t.length;s++)o(t[s],u)||c.push(t[s]);var f=i(c),l=[];for(s=0;s<f.length;s++)l.push(c[f[s]]);return l}(t),h=r(16,["[0]","[1]","[0]","[1]"]).load(t),c=[],f=0;f<s.length;f++){var l=s[f];h.remove(l),e=p(l,e),c.push(e)}var b=r(16);for(f=0;f<c.length;f++)b.insert(d(c[f]));for(var m=n*n,g=a*a;c.length;){var x=c.shift(),_=x.p,y=x.next.p,S=v(_,y);if(!(S<g)){var E=S/m;(l=u(h,x.prev.p,_,y,x.next.next.p,E,b))&&Math.min(v(l,_),v(l,y))<=E&&(c.push(x),c.push(p(l,x)),h.remove(l),b.remove(x),b.insert(d(x)),b.insert(d(x.next)))}}x=e;var M=[];do{M.push(x.p),x=x.next}while(x!==e);return M.push(x.p),M}function u(t,n,a,r,i,o,s){for(var h=new e(null,c),u=t.data;u;){for(var l=0;l<u.children.length;l++){var d=u.children[l],p=u.leaf?m(d,a,r):f(a,r,d);p>o||h.push({node:d,dist:p})}for(;h.length&&!h.peek().node.children;){var v=h.pop(),g=v.node,x=m(g,n,a),_=m(g,r,i);if(v.dist<x&&v.dist<_&&b(a,g,s)&&b(r,g,s))return g}(u=h.pop())&&(u=u.node)}return null}function c(t,n){return t.dist-n.dist}function f(t,n,a){if(l(t,a)||l(n,a))return 0;var r=g(t[0],t[1],n[0],n[1],a.minX,a.minY,a.maxX,a.minY);if(0===r)return 0;var i=g(t[0],t[1],n[0],n[1],a.minX,a.minY,a.minX,a.maxY);if(0===i)return 0;var e=g(t[0],t[1],n[0],n[1],a.maxX,a.minY,a.maxX,a.maxY);if(0===e)return 0;var o=g(t[0],t[1],n[0],n[1],a.minX,a.maxY,a.maxX,a.maxY);return 0===o?0:Math.min(r,i,e,o)}function l(t,n){return t[0]>=n.minX&&t[0]<=n.maxX&&t[1]>=n.minY&&t[1]<=n.maxY}function b(t,n,a){for(var r,i,e,o,h=Math.min(t[0],n[0]),u=Math.min(t[1],n[1]),c=Math.max(t[0],n[0]),f=Math.max(t[1],n[1]),l=a.search({minX:h,minY:u,maxX:c,maxY:f}),b=0;b<l.length;b++)if(r=l[b].p,i=l[b].next.p,e=t,r!==(o=n)&&i!==e&&s(r,i,e)>0!=s(r,i,o)>0&&s(e,o,r)>0!=s(e,o,i)>0)return!1;return!0}function d(t){var n=t.p,a=t.next.p;return t.minX=Math.min(n[0],a[0]),t.minY=Math.min(n[1],a[1]),t.maxX=Math.max(n[0],a[0]),t.maxY=Math.max(n[1],a[1]),t}function p(t,n){var a={p:t,prev:null,next:null,minX:0,minY:0,maxX:0,maxY:0};return n?(a.next=n.next,a.prev=n,n.next.prev=a,n.next=a):(a.prev=a,a.next=a),a}function v(t,n){var a=t[0]-n[0],r=t[1]-n[1];return a*a+r*r}function m(t,n,a){var r=n[0],i=n[1],e=a[0]-r,o=a[1]-i;if(0!==e||0!==o){var s=((t[0]-r)*e+(t[1]-i)*o)/(e*e+o*o);s>1?(r=a[0],i=a[1]):s>0&&(r+=e*s,i+=o*s)}return(e=t[0]-r)*e+(o=t[1]-i)*o}function g(t,n,a,r,i,e,o,s){var h,u,c,f,l=a-t,b=r-n,d=o-i,p=s-e,v=t-i,m=n-e,g=l*l+b*b,x=l*d+b*p,_=d*d+p*p,y=l*v+b*m,S=d*v+p*m,E=g*_-x*x,M=E,T=E;0===E?(u=0,M=1,f=S,T=_):(f=g*S-x*y,(u=x*S-_*y)<0?(u=0,f=S,T=_):u>M&&(u=M,f=S+x,T=_)),f<0?(f=0,-y<0?u=0:-y>g?u=M:(u=-y,M=g)):f>T&&(f=T,-y+x<0?u=0:-y+x>g?u=M:(u=-y+x,M=g));var w=(1-(c=0===f?0:f/T))*i+c*o-((1-(h=0===u?0:u/M))*t+h*a),G=(1-c)*e+c*s-((1-h)*n+h*r);return w*w+G*G}t.exports=h,t.exports.default=h},86:function(t,n,a){"use strict";a.r(n),a.d(n,"Cluster",(function(){return f}));var r=a(71),i=a.n(r),e=a(19),o=a.n(e);a(54);function s(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var a=[],r=!0,i=!1,e=void 0;try{for(var o,s=t[Symbol.iterator]();!(r=(o=s.next()).done)&&(a.push(o.value),!n||a.length!==n);r=!0);}catch(t){i=!0,e=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw e}}return a}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(t){return function(t){if(Array.isArray(t)){for(var n=0,a=new Array(t.length);n<t.length;n++)a[n]=t[n];return a}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function u(t,n){for(var a=0;a<n.length;a++){var r=n[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var c=function(){var t=new o.a.GluTesselator;return t.gluTessCallback(o.a.gluEnum.GLU_TESS_VERTEX_DATA,(function(t,n){n[n.length]=t[0],n[n.length]=t[1]})),t.gluTessCallback(o.a.gluEnum.GLU_TESS_BEGIN,(function(t){t!==o.a.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: "+t)})),t.gluTessCallback(o.a.gluEnum.GLU_TESS_ERROR,(function(t){console.log("error callback"),console.log("error number: "+t)})),t.gluTessCallback(o.a.gluEnum.GLU_TESS_COMBINE,(function(t,n,a){return[t[0],t[1],t[2]]})),t.gluTessCallback(o.a.gluEnum.GLU_TESS_EDGE_FLAG,(function(t){})),t}();var f=function(){function t(n,a,r,i){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.points=n,this.bounds=a,this.hull=r,this.triangulation=i}var n,a,r;return n=t,(a=[{key:"containsPoint",value:function(t){var n=t.x,a=t.y;return n>this.bounds.minX&&n<this.bounds.maxX&&a<this.bounds.maxY&&a>this.bounds.minY}},{key:"getCenter",value:function(){var t=0,n=0;return this.points.forEach((function(a){t+=a.x,n+=a.y})),{x:t/this.points.length,y:n/this.points.length}}},{key:"getProbability",value:function(){var t=0;return this.points.forEach((function(n){t+=n.probability})),t/this.points.length}},{key:"getSTD",value:function(){var t=this.getCenter(),n=0;return this.points.forEach((function(a){n+=Math.sqrt((a.x-t.x)*(a.x-t.x)+(a.y-t.y)*(a.y-t.y))})),n/this.points.length}},{key:"meanScore",value:function(){var t=0;return this.points.forEach((function(n){t+=n.score})),console.log(this.points),t/this.points.length}},{key:"differentLines",value:function(){return h(new Set(this.vectors.map((function(t){return t.view.lineIndex})))).length}},{key:"order",value:function(){return this.points.length/10+this.getProbability()-this.getSTD()+this.differentLines()}}])&&u(n.prototype,a),r&&u(n,r),t}();self.addEventListener("message",(function(t){if("point"==t.data.type){var n=t.data.load;fetch("http://localhost:8090/hdbscan",{method:"POST",body:JSON.stringify(n)}).then((function(t){t.json().then((function(t){var a=function(t,n){var a={};return t.forEach((function(t,r){var i=n[r][0],e=n[r][1],o=s(t,3),h=o[0],u=o[1],c=o[2];h in a||(a[h]={points:[]}),a[h].points.push({label:h,probability:u,meshIndex:r,x:i,y:e,score:c})})),a}(t.result,n);Object.keys(a).forEach((function(t){if(-1!=t){var r=a[t],e={minX:1e4,maxX:-1e4,minY:1e4,maxY:-1e4};r.bounds=e;var o=r.points.filter((function(t){return t.probability>.7})).map((function(t){var a=n[t.meshIndex][0],r=n[t.meshIndex][1];return a<e.minX&&(e.minX=a),a>e.maxX&&(e.maxX=a),r<e.minY&&(e.minY=r),r>e.maxY&&(e.maxY=r),[a,r]})),s=i()(o),h=function(t){c.gluTessNormal(0,0,1);var n=[];c.gluTessBeginPolygon(n);for(var a=0;a<t.length;a++){c.gluTessBeginContour();for(var r=t[a],i=0;i<r.length;i+=2){var e=[r[i],r[i+1],0];c.gluTessVertex(e,e)}c.gluTessEndContour()}return(new Date).getTime(),c.gluTessEndPolygon(),(new Date).getTime(),n}([s.flat()]);r.hull=s,r.triangulation=h}})),self.postMessage(a)}))}))}else if("segment"==t.data.type){n=t.data.load;fetch("http://localhost:8090/segmentation",{method:"POST",body:JSON.stringify(n)}).then((function(t){t.json().then((function(t){self.postMessage(t)}))}))}}))}});